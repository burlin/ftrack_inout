# Заметки: отображение сиквенций и порядок members

## 1. Параметр «диапазон кадров» в конфиге — on/off ✅ Сделано

В `browser_config.yaml`: `show_sequence_frame_range: true | false`.
- `true` — показывать диапазон кадров: `name (.%04d.sc) 1001 - 1721 (720)` (читаем имена members).
- `false` — только шаблон и количество: `name (.%04d.sc) (720)`.

---

## 2. Сортировка members на стадии паблиша

**Вопрос:** если при паблише (создании SequenceComponent и его members) записывать members в **отсортированном по кадру порядке**, будет ли API потом возвращать их в том же порядке при `populate(component, 'members')`?

- В ftrack при создании сиквенции в `session.create_component` members добавляются в цикле `for member_path in collection` (clique), т.е. порядок зависит от коллекции.
- При загрузке с сервера порядок relationship-коллекций часто не гарантируется (id, порядок вставки в БД и т.д.).
- **Идея на будущее:** в паблишере (наш код создания компонентов), после создания всех members, либо:
  - создавать их в заведомо отсортированном порядке по frame (name), или
  - проверить в документации/схеме ftrack, сохраняется ли порядок связи container–members.
- Если порядок сохраняется — в браузере можно брать первый и последний member по индексу (2 обращения вместо N) для отображения диапазона.

**Действия:** не менять код; при возможности проверить в ftrack API/schema, есть ли у связи members гарантия порядка; при доработке паблишера рассмотреть явную сортировку при создании members.

---

*Дата заметки: 2025-02*
