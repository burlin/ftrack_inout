# Ftrack Browser

–ú–æ–¥—É–ª—å–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä ftrack —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–æ–π
- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏, UI –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **HDA –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞ Houdini –Ω–æ–¥—ã
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ ftrack

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è HDA –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–ò–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ HDA –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª `hda_params_config.yaml`:

```yaml
hda_parameters:
  asset_version_id:
    - "assetversionid"      # –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
    - "AssetVersionId"      # fallback
    
  component_name:
    - "componentname"       # –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
    - "ComponentName"       # fallback
    
  component_id:
    - "componentid"         # –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
    - "ComponentId"         # fallback
    
  task_id:
    - "task_Id"             # –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
    - "taskid"              # –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π
    - "TaskId"              # –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `hda_params_config.yaml`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω—É–∂–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
3. –ë—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –ø–µ—Ä–≤—ã–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

```python
import sys
import os
sys.path.insert(0, 'path/to/ftrack_inout')

from ftrack_inout.browser.browser_widget import FtrackTaskBrowser
browser = FtrackTaskBrowser()
config = browser._load_hda_config()
print("–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:", config)
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- `browser_widget.py` - –û—Å–Ω–æ–≤–Ω–æ–π –≤–∏–¥–∂–µ—Ç –±—Ä–∞—É–∑–µ—Ä–∞
- `cache_preloader.py` - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- `simple_api_client.py` - –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç ‚úÖ **–í–û–°–°–¢–ê–ù–û–í–õ–ï–ù**
- `browser_widget_optimized.py` - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä ‚úÖ
- `cache_wrapper.py` - –°–∏—Å—Ç–µ–º–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å memory + logging —Å–ª–æ—è–º–∏ ‚úÖ
- `hda_params_config.yaml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è HDA –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚úÖ

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚ö° **0.0ms –¥–æ—Å—Ç—É–ø –∫ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º** - LayeredCache –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è ftrack
- üì¶ **–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ 477 —Å—É—â–Ω–æ—Å—Ç–µ–π –∑–∞ ~200ms** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è session.get()
- üéØ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é** - MemoryCacheWrapper —Å LoggingCacheWrapper
- üöÄ **–ò–¥–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∫–æ–¥ —É–ø—Ä–æ—â–µ–Ω —Å 2425+ –¥–æ ~150 —Å—Ç—Ä–æ–∫

### –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ftrack —Å–æ–∑–¥–∞–µ—Ç LayeredCache –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: session.get() –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: FileCache ‚Üí SerialisedCache ‚Üí MemoryCacheWrapper ‚Üí LoggingCacheWrapper

## üéØ **–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞**
–†–∞–∑–±–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π `.pypanel` —Ñ–∞–π–ª (2600+ —Å—Ç—Ä–æ–∫) –Ω–∞ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è.

## üìä **–ü—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏**

### ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- **`cache_wrapper.py`** (185 —Å—Ç—Ä–æ–∫) - –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å memory + logging —Å–ª–æ—è–º–∏
- **`data_loader.py`** (279 —Å—Ç—Ä–æ–∫) - –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å Qt signals
- **`__init__.py`** (98 —Å—Ç—Ä–æ–∫) - –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ç—Ä–µ–∫–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### üîÑ **–í –ø–ª–∞–Ω–∞—Ö:**
- **`api_client.py`** - Ftrack API –∫–ª–∏–µ–Ω—Ç (–ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ)
- **`browser_widget.py`** - –û—Å–Ω–æ–≤–Ω–æ–π FtrackBrowser –≤–∏–¥–∂–µ—Ç (~800-1000 —Å—Ç—Ä–æ–∫)
- **`ui_helpers.py`** - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ UI —Ñ—É–Ω–∫—Ü–∏–∏ (~200 —Å—Ç—Ä–æ–∫)

## üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

```
ftrack_inout/browser/
‚îú‚îÄ‚îÄ __init__.py           # –≠–∫—Å–ø–æ—Ä—Ç—ã –∏ —Ç—Ä–µ–∫–∏–Ω–≥ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ cache_wrapper.py      # ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Memory + Logging)
‚îú‚îÄ‚îÄ data_loader.py        # ‚úÖ –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
‚îú‚îÄ‚îÄ api_client.py         # üîÑ API –∫–ª–∏–µ–Ω—Ç  
‚îú‚îÄ‚îÄ browser_widget.py     # üîÑ –û—Å–Ω–æ–≤–Ω–æ–π –≤–∏–¥–∂–µ—Ç
‚îî‚îÄ‚îÄ ui_helpers.py         # üîÑ UI —É—Ç–∏–ª–∏—Ç—ã
```

## ‚ö° **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

### 1. **–õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞**
- üîç **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞** –≤ .py —Ñ–∞–π–ª–∞—Ö  
- üêõ **–û—Ç–ª–∞–¥–∫–∞** —Å breakpoints
- üìù **–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ** –≤ IDE

### 2. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
- **Cache —Å–∏—Å—Ç–µ–º–∞** ‚Üí –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **API –∫–ª–∏–µ–Ω—Ç** ‚Üí –¥—Ä—É–≥–∏–µ –ø–∞–Ω–µ–ª–∏
- **Data loader** ‚Üí –±—É–¥—É—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 3. **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** ‚Üí –ª–µ–≥—á–µ –º–µ—Ä–∂–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–ß–µ—Ç–∫–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
- **Unit —Ç–µ—Å—Ç—ã** –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 4. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤**
```
–ë—ã–ª–æ:  ftrack_browser.pypanel  (2600+ —Å—Ç—Ä–æ–∫)
–°—Ç–∞–ª–æ: –ú–∞–∫—Å–∏–º—É–º ~300 —Å—Ç—Ä–æ–∫ –Ω–∞ –º–æ–¥—É–ª—å
```

## üîß **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –º–∏–≥—Ä–∞—Ü–∏–∏:
```python
from ftrack_inout.browser import get_migration_progress
print(get_migration_progress())  # "2/5 modules migrated (40.0%)"
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
```python
from ftrack_inout.browser import create_optimized_cache, BackgroundLoader

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫—ç—à–∞
cache = create_optimized_cache(session, cache_path, max_memory_size=5000)

# –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
loader = BackgroundLoader(api_client)
data_loader = loader.setup()
```

## üéØ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**

1. **API –∫–ª–∏–µ–Ω—Ç** - –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `FtrackApiClient`
2. **UI helpers** - –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
3. **Browser widget** - —Ä–∞–∑–±–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å FtrackBrowser
4. **–û–±–Ω–æ–≤–∏—Ç—å .pypanel** - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π –∏–º–ø–æ—Ä—Ç

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

–ú–æ–¥—É–ª–∏ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- ‚úÖ **–£—Å–ª–æ–≤–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã** - —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ ftrack_api/PySide2
- ‚úÖ **Graceful degradation** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –≤–º–µ—Å—Ç–æ –∫—Ä–∞—à–µ–π  
- ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

## üìù **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è**

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ú–∏–≥—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è, –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π .pypanel –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å  
- **–ì–∏–±–∫–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ 

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- **asset_version_id** - ID –≤–µ—Ä—Å–∏–∏ –∞—Å—Å–µ—Ç–∞ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–æ–π "Set Full Params")
- **component_name** - –ò–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–æ–π "Set Full Params")  
- **component_id** - ID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–æ–π "Set Full Params")
- **task_id** - ID –∑–∞–¥–∞—á–∏ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–æ–π "Set Task on Sel. Node")